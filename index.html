<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>College Casino — Scoreboard</title>
  <style>
    /* Минимальное оформление для таблицы результатов */
    #scoreboard { padding: 12px; border: 1px solid #ddd; background: #fff; max-width: 640px; margin: 16px auto; font-family: Arial, Helvetica, sans-serif; }
    .scoreboard-table { width: 100%; border-collapse: collapse; }
    .scoreboard-table th, .scoreboard-table td { padding: 8px 10px; border-bottom: 1px solid #eee; text-align: left; }
    .scoreboard-table thead th { background:#f7f7f7; font-weight:600; }
    .score-empty, .score-error { color:#666; padding:8px; }
    .score-loading { color:#444; padding:8px; }
    .pos { width: 40px; }
  </style>
</head>
<body>
  <!-- Scoreboard container -->
  <main>
    <h1 style="text-align:center;font-family:inherit;">Scoreboard</h1>
    <div id="scoreboard" aria-live="polite">Загрузка таблицы...</div>
  </main>

  <!-- Универсальный скрипт: сначала пытается загрузить external ./scores.json,
       при ошибке использует встроенные demoScores -->
  <script>
  (function () {
    const PREFIX = '[scoreboard]';
    const log = (...a) => console.log(PREFIX, ...a);
    const error = (...a) => console.error(PREFIX, ...a);

    const container = document.getElementById('scoreboard');
    if (!container) {
      error('Container #scoreboard not found. Aborting.');
      return;
    }

    // Встроенные тестовые данные — пригодятся если external scores.json отсутствует
    const demoScores = [
      { "name": "Alice", "score": 1250 },
      { "name": "Bob", "score": 980 },
      { "name": "Carol", "score": 760 }
    ];

    // Попытаться загрузить внешний файл; если 404 или ошибка — использовать demoScores
    const SCORES_PATH = './scores.json'; // при необходимости замените на абсолютный URL

    function escapeHtml(s) {
      return String(s).replace(/[&<>"']/g, c =>
        ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])
      );
    }

    function render(scores) {
      if (!Array.isArray(scores) || scores.length === 0) {
        container.innerHTML = '<div class="score-empty">Нет результатов</div>';
        return;
      }
      const rows = scores.map((s, i) => {
        const name = escapeHtml(s.name ?? ('Player ' + (i + 1)));
        const score = escapeHtml(s.score ?? 0);
        return `<tr><td class="pos">${i + 1}</td><td class="name">${name}</td><td class="score">${score}</td></tr>`;
      }).join('');
      container.innerHTML = `
        <table class="scoreboard-table" role="table" aria-label="Scoreboard">
          <thead><tr><th>#</th><th>Имя</th><th>Очки</th></tr></thead>
          <tbody>${rows}</tbody>
        </table>`;
    }

    async function tryLoadExternal() {
      container.innerHTML = '<div class="score-loading">Попытка загрузить внешний scores.json...</div>';
      try {
        const res = await fetch(SCORES_PATH, { cache: 'no-store' });
        if (!res.ok) {
          throw new Error('HTTP ' + res.status);
        }
        const json = await res.json();
        if (!Array.isArray(json)) throw new Error('Expected array in external scores.json');
        log('External scores loaded, count=', json.length);
        render(json);
      } catch (e) {
        error('External load failed:', e);
        log('Falling back to demoScores');
        render(demoScores);
      }
    }

    // Запуск после парсинга DOM
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', tryLoadExternal);
    } else {
      tryLoadExternal();
    }
  })();
  </script>
</body>
</html>
```[43dcd9a7-70db-4a1f-b0ae-981daa162054](https://github.com/1milligram/1loc/tree/74b3c14a1a1ab26029d650f157447302939409f1/collections%2Fstring%2Fescape-html-special-characters.md?citationMarker=43dcd9a7-70db-4a1f-b0ae-981daa162054&citationId=1 "github.com")